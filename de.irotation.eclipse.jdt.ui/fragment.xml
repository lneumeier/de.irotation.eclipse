<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<fragment>
   <extension
         point="org.eclipse.ui.commands">
      <command
            id="de.irotation.eclipse.jdt.ui.JumpSourceTest"
            name="JumpBetweenSourceAndTest">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="popup:#CompilationUnitEditorContext?after=additions">
         <command
               commandId="de.irotation.eclipse.jdt.ui.JumpSourceTest"
               label="Jump to Test"
               style="push">
            <visibleWhen
                  checkEnabled="true">
               <with
                     variable="activeEditor">
                  <test
                        property="de.irotation.eclipse.jdt.ui.property.isClass">
                  </test>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="de.irotation.eclipse.jdt.ui.JumpSourceTest"
               label="Jump to Source"
               style="push">
            <visibleWhen
                  checkEnabled="true">
               <with
                     variable="activeEditor">
                  <test
                        property="de.irotation.eclipse.jdt.ui.property.isTestClass">
                  </test>
               </with>
            </visibleWhen>
         </command>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="de.irotation.eclipse.jdt.ui.JumpSourceTestHandler"
            commandId="de.irotation.eclipse.jdt.ui.JumpSourceTest">
         <enabledWhen>
            <with
                  variable="activeEditor">
               <instanceof
                     value="org.eclipse.jdt.internal.ui.javaeditor.JavaEditor">
               </instanceof>
            </with>
         </enabledWhen>
      </handler>
   </extension>
   <extension
         point="org.eclipse.ui.bindings">
      <key
            commandId="de.irotation.eclipse.jdt.ui.JumpSourceTest"
            contextId="org.eclipse.jdt.ui.javaEditorScope"
            schemeId="org.eclipse.ui.defaultAcceleratorConfiguration"
            sequence="M3+J">
      </key>
   </extension>
   <extension
         point="org.eclipse.ui.decorators">
      <decorator
            adaptable="true"
            class="de.irotation.eclipse.jdt.ui.decorators.UnitTestDecorator"
            icon="icons/class-has-test.png"
            id="de.irotation.eclipse.jdt.ui.decorator"
            label="Unittest exists Decorator"
            lightweight="true"
            location="TOP_LEFT"
            state="true">
         <enablement>
               <objectClass
                     name="org.eclipse.jdt.core.ICompilationUnit">
               </objectClass>
         </enablement>
      </decorator>
   </extension>
   <extension
         point="org.eclipse.core.expressions.propertyTesters">
      <propertyTester
            class="de.irotation.eclipse.jdt.ui.property.JumpPropertyTester"
            id="de.irotation.eclipse.jdt.ui.property.jumpSourceTest"
            namespace="de.irotation.eclipse.jdt.ui.property"
            properties="isTestClass,isClass"
            type="org.eclipse.jdt.internal.ui.javaeditor.JavaEditor">
      </propertyTester>
   </extension>

</fragment>
